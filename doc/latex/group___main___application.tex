\doxysection{Main Application}
\hypertarget{group___main___application}{}\label{group___main___application}\index{Main Application@{Main Application}}
\doxysubsubsection*{Modules}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group___reset___state___machine}{Reset State Machine}}
\begin{DoxyCompactList}\small\item\em vin and reset the state machine \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___modbus___w_d_t___state___machine}{Modbus WDT State Machine}}
\item 
\mbox{\hyperlink{group___configuration___state___machine}{Configuration State Machine}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group___main___application_ga09296ef32928eaaa20010361d50ddf08}{Si\+Labs\+\_\+\+Startup}} (void)
\begin{DoxyCompactList}\small\item\em \doxylink{group___main___application_ga09296ef32928eaaa20010361d50ddf08}{Si\+Labs\+\_\+\+Startup()} Routine. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group___main___application_ga840291bc02cba5474a4cb46a9b9566fe}{main}} (void)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
volatile \mbox{\hyperlink{unionsv__dev__sta__t}{sv\+\_\+dev\+\_\+sta\+\_\+t}} \mbox{\hyperlink{group___main___application_ga5aeeb2c06cb9bc8498f6ca5a520157d5}{sv\+\_\+dev\+\_\+sta}} = \{0\}
\item 
volatile uint8\+\_\+t \mbox{\hyperlink{group___main___application_gabff40580a49bdbf86db348e6ab0a8dc1}{t1\+Count}} = 0
\item 
volatile uint8\+\_\+t \mbox{\hyperlink{group___main___application_ga9f016462fc2803075b67d903c4045aa7}{t0\+Count}} = 0
\item 
uint8\+\_\+t \mbox{\hyperlink{group___main___application_ga06f41e11cde40f73d65c73f928a89ae9}{T0\+C\+\_\+\+TOP}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Function Documentation}
\Hypertarget{group___main___application_ga840291bc02cba5474a4cb46a9b9566fe}\label{group___main___application_ga840291bc02cba5474a4cb46a9b9566fe} 
\index{Main Application@{Main Application}!main@{main}}
\index{main@{main}!Main Application@{Main Application}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

This is the main function where the configuration and modbus are run.

It is assumed that the main function is run after the cinit and startup implementations, so all global and static variables are initialized to their correct default values.

The main function takes into consideration the reset condition to determine whether the vin state machine should start into the "{}ok"{} state or the "{}\+Init"{} state.

The main function implements a counter-\/based system using the \doxylink{group___main___application_gabff40580a49bdbf86db348e6ab0a8dc1}{t1\+Count} global which is incremented once a millisecond. An internal counter is incremented each time the modbus loop is executed. This makes it acceptable for the modbus process to overrun its timeslot through multiple cycles without affecting the number of times it is executed for timing purposes. Note that there is an anti-\/windup feature activated when \doxylink{group___configuration___state___machine_ga7624452708e1f4a54f678332e81c4867}{run\+\_\+petitmodbus} is not set where the internal counter is immediately set to the value of \doxylink{group___main___application_gabff40580a49bdbf86db348e6ab0a8dc1}{t1\+Count} rather than incremented upon each execution. \begin{DoxyReturn}{Returns}
main functions usually have a return that should never get reached. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source_l00702}{702}} of file \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source}{Io\+T Supervisor\+\_\+main.\+c}}.

\Hypertarget{group___main___application_ga09296ef32928eaaa20010361d50ddf08}\label{group___main___application_ga09296ef32928eaaa20010361d50ddf08} 
\index{Main Application@{Main Application}!SiLabs\_Startup@{SiLabs\_Startup}}
\index{SiLabs\_Startup@{SiLabs\_Startup}!Main Application@{Main Application}}
\doxysubsubsection{\texorpdfstring{SiLabs\_Startup()}{SiLabs\_Startup()}}
{\footnotesize\ttfamily void Si\+Labs\+\_\+\+Startup (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



\doxylink{group___main___application_ga09296ef32928eaaa20010361d50ddf08}{Si\+Labs\+\_\+\+Startup()} Routine. 

This function is called immediately after reset, before the initialization code is run in SILABS\+\_\+\+STARTUP.\+A51 (which runs before \doxylink{group___main___application_ga840291bc02cba5474a4cb46a9b9566fe}{main()} ). This is a useful place to disable the watchdog timer, which is enabled by default and may trigger before \doxylink{group___main___application_ga840291bc02cba5474a4cb46a9b9566fe}{main()} in some instances. 

Definition at line \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source_l00039}{39}} of file \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source}{Io\+T Supervisor\+\_\+main.\+c}}.



\doxysubsection{Variable Documentation}
\Hypertarget{group___main___application_ga5aeeb2c06cb9bc8498f6ca5a520157d5}\label{group___main___application_ga5aeeb2c06cb9bc8498f6ca5a520157d5} 
\index{Main Application@{Main Application}!sv\_dev\_sta@{sv\_dev\_sta}}
\index{sv\_dev\_sta@{sv\_dev\_sta}!Main Application@{Main Application}}
\doxysubsubsection{\texorpdfstring{sv\_dev\_sta}{sv\_dev\_sta}}
{\footnotesize\ttfamily volatile \mbox{\hyperlink{unionsv__dev__sta__t}{sv\+\_\+dev\+\_\+sta\+\_\+t}} sv\+\_\+dev\+\_\+sta = \{0\}}



Definition at line \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source_l00048}{48}} of file \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source}{Io\+T Supervisor\+\_\+main.\+c}}.

\Hypertarget{group___main___application_ga06f41e11cde40f73d65c73f928a89ae9}\label{group___main___application_ga06f41e11cde40f73d65c73f928a89ae9} 
\index{Main Application@{Main Application}!T0C\_TOP@{T0C\_TOP}}
\index{T0C\_TOP@{T0C\_TOP}!Main Application@{Main Application}}
\doxysubsubsection{\texorpdfstring{T0C\_TOP}{T0C\_TOP}}
{\footnotesize\ttfamily uint8\+\_\+t T0\+C\+\_\+\+TOP = 0}

Software counter to implement modbus inter-\/byte timeout 

Definition at line \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source_l00056}{56}} of file \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source}{Io\+T Supervisor\+\_\+main.\+c}}.

\Hypertarget{group___main___application_ga9f016462fc2803075b67d903c4045aa7}\label{group___main___application_ga9f016462fc2803075b67d903c4045aa7} 
\index{Main Application@{Main Application}!t0Count@{t0Count}}
\index{t0Count@{t0Count}!Main Application@{Main Application}}
\doxysubsubsection{\texorpdfstring{t0Count}{t0Count}}
{\footnotesize\ttfamily volatile uint8\+\_\+t t0\+Count = 0}



Definition at line \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source_l00054}{54}} of file \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source}{Io\+T Supervisor\+\_\+main.\+c}}.

\Hypertarget{group___main___application_gabff40580a49bdbf86db348e6ab0a8dc1}\label{group___main___application_gabff40580a49bdbf86db348e6ab0a8dc1} 
\index{Main Application@{Main Application}!t1Count@{t1Count}}
\index{t1Count@{t1Count}!Main Application@{Main Application}}
\doxysubsubsection{\texorpdfstring{t1Count}{t1Count}}
{\footnotesize\ttfamily volatile uint8\+\_\+t t1\+Count = 0}



Definition at line \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source_l00051}{51}} of file \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source}{Io\+T Supervisor\+\_\+main.\+c}}.

\input{group___reset___state___machine}
\input{group___modbus___w_d_t___state___machine}
\input{group___configuration___state___machine}
