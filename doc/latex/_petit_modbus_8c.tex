\doxysection{Petit\+Modbus/src/\+Petit\+Modbus.c File Reference}
\hypertarget{_petit_modbus_8c}{}\label{_petit_modbus_8c}\index{PetitModbus/src/PetitModbus.c@{PetitModbus/src/PetitModbus.c}}
{\ttfamily \#include "{}Petit\+Modbus.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_a3518c88782a1af5dc2844d8af198c486}{PETITMODBUS\+\_\+\+READ\+\_\+\+COILS}}~(1)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_a1d90816bf19b37cd403e15bf9d1b40ce}{PETITMODBUS\+\_\+\+READ\+\_\+\+DISCRETE\+\_\+\+INPUTS}}~(2)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_a02320a9483b772fdae2c8992610e8fa2}{PETITMODBUS\+\_\+\+READ\+\_\+\+HOLDING\+\_\+\+REGISTERS}}~(3)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_ad1fe26bcdebf35159d6b2ae06fbffdc3}{PETITMODBUS\+\_\+\+READ\+\_\+\+INPUT\+\_\+\+REGISTERS}}~(4)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_a1bc9f7d10a98307ad386334196720cb6}{PETITMODBUS\+\_\+\+WRITE\+\_\+\+SINGLE\+\_\+\+COIL}}~(5)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_a994e60dc98de7f41ac1bf7348c14de7f}{PETITMODBUS\+\_\+\+WRITE\+\_\+\+SINGLE\+\_\+\+REGISTER}}~(6)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_a7a64396c4b33039575774ddd05367f7a}{PETITMODBUS\+\_\+\+WRITE\+\_\+\+MULTIPLE\+\_\+\+COILS}}~(15)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_afce4136564ba140cc88a0a87c0dc6009}{PETITMODBUS\+\_\+\+WRITE\+\_\+\+MULTIPLE\+\_\+\+REGISTERS}}~(16)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_a25b1c794040044639ee48cbea4f254c3}{PETIT\+\_\+\+FALSE\+\_\+\+FUNCTION}}~(0)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_aeb993778d533275c9c20576efc8033ee}{PETIT\+\_\+\+FALSE\+\_\+\+SLAVE\+\_\+\+ADDRESS}}~(1)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_a5467b986909573f936075a6d5c03a90a}{PETIT\+\_\+\+DATA\+\_\+\+NOT\+\_\+\+READY}}~(2)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_a8e47186d423a1b375d37d9812c4a7dc5}{PETIT\+\_\+\+DATA\+\_\+\+READY}}~(3)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_a7c8a97cda1581d60210ce954bda2b474}{PETIT\+\_\+\+ERROR\+\_\+\+CODE\+\_\+01}}~(0x01)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_a51603903f7f173e19518e786b2bcdce4}{PETIT\+\_\+\+ERROR\+\_\+\+CODE\+\_\+02}}~(0x02)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_a8041141d07a48a5244d55ccd5ba4058c}{PETIT\+\_\+\+ERROR\+\_\+\+CODE\+\_\+04}}~(0x04)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_ae60cf8b9b6ed9371977d15673b40d6e6}{PETIT\+\_\+\+BUF\+\_\+\+FN\+\_\+\+CODE\+\_\+I}}~(1)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_ac28921634e1e37213a0008a09178e8f9}{PETIT\+\_\+\+BUF\+\_\+\+BYTE\+\_\+\+CNT\+\_\+I}}~(6)
\item 
\#define \mbox{\hyperlink{_petit_modbus_8c_a6b2ebf6449b3dbc5cb4525d230b09141}{PETIT\+\_\+\+BUF\+\_\+\+DAT\+\_\+M}}(Idx)
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_petit_modbus_8c_aa32badb62b1d3074192136ccd5e60b01}{Petit\+Rx\+Buffer\+Reset}} ()
\item 
\mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}} \mbox{\hyperlink{_petit_modbus_8c_ad88239bde4899b1be809af81b121c656}{Petit\+Rx\+Buffer\+Insert}} (\mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}} rcvd)
\item 
\mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}} \mbox{\hyperlink{_petit_modbus_8c_af6065cec82799ffca180fb2dc6688008}{Petit\+Tx\+Buffer\+Pop}} (\mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}} \texorpdfstring{$\ast$}{*}tx)
\item 
void \mbox{\hyperlink{_petit_modbus_8c_a501aad7f80dceedd8fc32df812d4b100}{Petit\+\_\+\+CRC16\+\_\+\+Calc}} (const \mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\+\_\+t}} Data)
\item 
\mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}} \mbox{\hyperlink{_petit_modbus_8c_a9db6d10a1987391aa6d781f8c4cff896}{Petit\+Send\+Message}} (void)
\item 
void \mbox{\hyperlink{_petit_modbus_8c_a475ffd4c5a4708c18a014972ca2ab355}{Handle\+Petit\+Modbus\+Error}} (\mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}} Error\+Code)
\item 
\mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}} \mbox{\hyperlink{_petit_modbus_8c_a9134df4abd7fbef7ff03d854974789aa}{Check\+Petit\+Modbus\+Buffer\+Complete}} (void)
\item 
void \mbox{\hyperlink{_petit_modbus_8c_a8fb90adb08b6d7f67264f53ac146c683}{Petit\+\_\+\+Rx\+RTU}} (void)
\item 
void \mbox{\hyperlink{_petit_modbus_8c_ad8b5b915d3cc8fb5fe9178835e8a5226}{Petit\+\_\+\+Tx\+RTU}} (void)
\item 
void \mbox{\hyperlink{_petit_modbus_8c_a5bf823c0c318b5754b2714fe029c606f}{Petit\+\_\+\+Response\+Process}} (void)
\item 
void \mbox{\hyperlink{_petit_modbus_8c_a59d78cb738c2ae2a306805b9b324522b}{Process\+Petit\+Modbus}} (void)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{_petit_modbus_8h_a416ceb2c1c6976a28c49fe9fe817c719}{PETIT\+\_\+\+RXTX\+\_\+\+STATE}} \mbox{\hyperlink{_petit_modbus_8c_a5e9ea8b66a92b4c5bd6d48903ddad114}{Petit\+\_\+\+Rx\+Tx\+\_\+\+State}} = \mbox{\hyperlink{_petit_modbus_8h_a416ceb2c1c6976a28c49fe9fe817c719a0ed5e421bfe56a5dc3001ff0f7edb99e}{PETIT\+\_\+\+RXTX\+\_\+\+RX}}
\item 
\mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}} \mbox{\hyperlink{_petit_modbus_8c_a35bf4945b3c380b11fd1ab2ac2bdf9a8}{Petit\+Buffer}} \mbox{[}\mbox{\hyperlink{_petit_modbus_8h_abac00eeae9e2d13662e5eed7760f10dd}{PETITMODBUS\+\_\+\+RXTX\+\_\+\+BUFFER\+\_\+\+SIZE}}\mbox{]}
\item 
\mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\+\_\+t}} \mbox{\hyperlink{_petit_modbus_8c_a725e5c9754541775c19b13cd24587bd7}{Petit\+\_\+\+CRC16}} = 0x\+FFFF
\item 
\mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\+\_\+t}} \mbox{\hyperlink{_petit_modbus_8c_ad0a0155875fb15928e4d5518f32ccfd8}{Petit\+BufI}} = 0
\item 
\mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\+\_\+t}} \mbox{\hyperlink{_petit_modbus_8c_adb1927c07823d609e93fb09873af3e1c}{Petit\+BufJ}} = 0
\item 
\mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{_petit_modbus_8c_a763f2d8a515492ce91fa4d961bfd273d}{Petit\+\_\+\+Ptr}} = \&\mbox{\hyperlink{_petit_modbus_8c_a35bf4945b3c380b11fd1ab2ac2bdf9a8}{Petit\+Buffer}}\mbox{[}0\mbox{]}
\item 
\mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\+\_\+t}} \mbox{\hyperlink{_petit_modbus_8c_aa32fe8e9b5875dbba9a8ab48d94c4e9e}{Petit\+\_\+\+Tx\+\_\+\+Delay}} = 0
\item 
\mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\+\_\+t}} \mbox{\hyperlink{_petit_modbus_8c_a3f49f58b5bd388ddd50a69867e5a0f93}{Petit\+Expected\+Receive\+Count}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{_petit_modbus_8c_ac28921634e1e37213a0008a09178e8f9}\label{_petit_modbus_8c_ac28921634e1e37213a0008a09178e8f9} 
\index{PetitModbus.c@{PetitModbus.c}!PETIT\_BUF\_BYTE\_CNT\_I@{PETIT\_BUF\_BYTE\_CNT\_I}}
\index{PETIT\_BUF\_BYTE\_CNT\_I@{PETIT\_BUF\_BYTE\_CNT\_I}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETIT\_BUF\_BYTE\_CNT\_I}{PETIT\_BUF\_BYTE\_CNT\_I}}
{\footnotesize\ttfamily \#define PETIT\+\_\+\+BUF\+\_\+\+BYTE\+\_\+\+CNT\+\_\+I~(6)}

\Hypertarget{_petit_modbus_8c_a6b2ebf6449b3dbc5cb4525d230b09141}\label{_petit_modbus_8c_a6b2ebf6449b3dbc5cb4525d230b09141} 
\index{PetitModbus.c@{PetitModbus.c}!PETIT\_BUF\_DAT\_M@{PETIT\_BUF\_DAT\_M}}
\index{PETIT\_BUF\_DAT\_M@{PETIT\_BUF\_DAT\_M}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETIT\_BUF\_DAT\_M}{PETIT\_BUF\_DAT\_M}}
{\footnotesize\ttfamily \#define PETIT\+\_\+\+BUF\+\_\+\+DAT\+\_\+M(\begin{DoxyParamCaption}\item[{}]{Idx }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ (((\mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\_t}})(\mbox{\hyperlink{_petit_modbus_8c_a35bf4945b3c380b11fd1ab2ac2bdf9a8}{PetitBuffer}}[2*(Idx)\ +\ 2])\ <<\ 8)\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ |\ (\mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\_t}})\ (\mbox{\hyperlink{_petit_modbus_8c_a35bf4945b3c380b11fd1ab2ac2bdf9a8}{PetitBuffer}}[2*(Idx)\ +\ 3]))}

\end{DoxyCode}
This macro extracts the contents of the buffer at index as a 16-\/bit unsigned integer \Hypertarget{_petit_modbus_8c_ae60cf8b9b6ed9371977d15673b40d6e6}\label{_petit_modbus_8c_ae60cf8b9b6ed9371977d15673b40d6e6} 
\index{PetitModbus.c@{PetitModbus.c}!PETIT\_BUF\_FN\_CODE\_I@{PETIT\_BUF\_FN\_CODE\_I}}
\index{PETIT\_BUF\_FN\_CODE\_I@{PETIT\_BUF\_FN\_CODE\_I}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETIT\_BUF\_FN\_CODE\_I}{PETIT\_BUF\_FN\_CODE\_I}}
{\footnotesize\ttfamily \#define PETIT\+\_\+\+BUF\+\_\+\+FN\+\_\+\+CODE\+\_\+I~(1)}

\Hypertarget{_petit_modbus_8c_a5467b986909573f936075a6d5c03a90a}\label{_petit_modbus_8c_a5467b986909573f936075a6d5c03a90a} 
\index{PetitModbus.c@{PetitModbus.c}!PETIT\_DATA\_NOT\_READY@{PETIT\_DATA\_NOT\_READY}}
\index{PETIT\_DATA\_NOT\_READY@{PETIT\_DATA\_NOT\_READY}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETIT\_DATA\_NOT\_READY}{PETIT\_DATA\_NOT\_READY}}
{\footnotesize\ttfamily \#define PETIT\+\_\+\+DATA\+\_\+\+NOT\+\_\+\+READY~(2)}

\Hypertarget{_petit_modbus_8c_a8e47186d423a1b375d37d9812c4a7dc5}\label{_petit_modbus_8c_a8e47186d423a1b375d37d9812c4a7dc5} 
\index{PetitModbus.c@{PetitModbus.c}!PETIT\_DATA\_READY@{PETIT\_DATA\_READY}}
\index{PETIT\_DATA\_READY@{PETIT\_DATA\_READY}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETIT\_DATA\_READY}{PETIT\_DATA\_READY}}
{\footnotesize\ttfamily \#define PETIT\+\_\+\+DATA\+\_\+\+READY~(3)}

\Hypertarget{_petit_modbus_8c_a7c8a97cda1581d60210ce954bda2b474}\label{_petit_modbus_8c_a7c8a97cda1581d60210ce954bda2b474} 
\index{PetitModbus.c@{PetitModbus.c}!PETIT\_ERROR\_CODE\_01@{PETIT\_ERROR\_CODE\_01}}
\index{PETIT\_ERROR\_CODE\_01@{PETIT\_ERROR\_CODE\_01}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETIT\_ERROR\_CODE\_01}{PETIT\_ERROR\_CODE\_01}}
{\footnotesize\ttfamily \#define PETIT\+\_\+\+ERROR\+\_\+\+CODE\+\_\+01~(0x01)}

\Hypertarget{_petit_modbus_8c_a51603903f7f173e19518e786b2bcdce4}\label{_petit_modbus_8c_a51603903f7f173e19518e786b2bcdce4} 
\index{PetitModbus.c@{PetitModbus.c}!PETIT\_ERROR\_CODE\_02@{PETIT\_ERROR\_CODE\_02}}
\index{PETIT\_ERROR\_CODE\_02@{PETIT\_ERROR\_CODE\_02}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETIT\_ERROR\_CODE\_02}{PETIT\_ERROR\_CODE\_02}}
{\footnotesize\ttfamily \#define PETIT\+\_\+\+ERROR\+\_\+\+CODE\+\_\+02~(0x02)}

\Hypertarget{_petit_modbus_8c_a8041141d07a48a5244d55ccd5ba4058c}\label{_petit_modbus_8c_a8041141d07a48a5244d55ccd5ba4058c} 
\index{PetitModbus.c@{PetitModbus.c}!PETIT\_ERROR\_CODE\_04@{PETIT\_ERROR\_CODE\_04}}
\index{PETIT\_ERROR\_CODE\_04@{PETIT\_ERROR\_CODE\_04}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETIT\_ERROR\_CODE\_04}{PETIT\_ERROR\_CODE\_04}}
{\footnotesize\ttfamily \#define PETIT\+\_\+\+ERROR\+\_\+\+CODE\+\_\+04~(0x04)}

\Hypertarget{_petit_modbus_8c_a25b1c794040044639ee48cbea4f254c3}\label{_petit_modbus_8c_a25b1c794040044639ee48cbea4f254c3} 
\index{PetitModbus.c@{PetitModbus.c}!PETIT\_FALSE\_FUNCTION@{PETIT\_FALSE\_FUNCTION}}
\index{PETIT\_FALSE\_FUNCTION@{PETIT\_FALSE\_FUNCTION}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETIT\_FALSE\_FUNCTION}{PETIT\_FALSE\_FUNCTION}}
{\footnotesize\ttfamily \#define PETIT\+\_\+\+FALSE\+\_\+\+FUNCTION~(0)}

\Hypertarget{_petit_modbus_8c_aeb993778d533275c9c20576efc8033ee}\label{_petit_modbus_8c_aeb993778d533275c9c20576efc8033ee} 
\index{PetitModbus.c@{PetitModbus.c}!PETIT\_FALSE\_SLAVE\_ADDRESS@{PETIT\_FALSE\_SLAVE\_ADDRESS}}
\index{PETIT\_FALSE\_SLAVE\_ADDRESS@{PETIT\_FALSE\_SLAVE\_ADDRESS}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETIT\_FALSE\_SLAVE\_ADDRESS}{PETIT\_FALSE\_SLAVE\_ADDRESS}}
{\footnotesize\ttfamily \#define PETIT\+\_\+\+FALSE\+\_\+\+SLAVE\+\_\+\+ADDRESS~(1)}

\Hypertarget{_petit_modbus_8c_a3518c88782a1af5dc2844d8af198c486}\label{_petit_modbus_8c_a3518c88782a1af5dc2844d8af198c486} 
\index{PetitModbus.c@{PetitModbus.c}!PETITMODBUS\_READ\_COILS@{PETITMODBUS\_READ\_COILS}}
\index{PETITMODBUS\_READ\_COILS@{PETITMODBUS\_READ\_COILS}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETITMODBUS\_READ\_COILS}{PETITMODBUS\_READ\_COILS}}
{\footnotesize\ttfamily \#define PETITMODBUS\+\_\+\+READ\+\_\+\+COILS~(1)}

\Hypertarget{_petit_modbus_8c_a1d90816bf19b37cd403e15bf9d1b40ce}\label{_petit_modbus_8c_a1d90816bf19b37cd403e15bf9d1b40ce} 
\index{PetitModbus.c@{PetitModbus.c}!PETITMODBUS\_READ\_DISCRETE\_INPUTS@{PETITMODBUS\_READ\_DISCRETE\_INPUTS}}
\index{PETITMODBUS\_READ\_DISCRETE\_INPUTS@{PETITMODBUS\_READ\_DISCRETE\_INPUTS}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETITMODBUS\_READ\_DISCRETE\_INPUTS}{PETITMODBUS\_READ\_DISCRETE\_INPUTS}}
{\footnotesize\ttfamily \#define PETITMODBUS\+\_\+\+READ\+\_\+\+DISCRETE\+\_\+\+INPUTS~(2)}

\Hypertarget{_petit_modbus_8c_a02320a9483b772fdae2c8992610e8fa2}\label{_petit_modbus_8c_a02320a9483b772fdae2c8992610e8fa2} 
\index{PetitModbus.c@{PetitModbus.c}!PETITMODBUS\_READ\_HOLDING\_REGISTERS@{PETITMODBUS\_READ\_HOLDING\_REGISTERS}}
\index{PETITMODBUS\_READ\_HOLDING\_REGISTERS@{PETITMODBUS\_READ\_HOLDING\_REGISTERS}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETITMODBUS\_READ\_HOLDING\_REGISTERS}{PETITMODBUS\_READ\_HOLDING\_REGISTERS}}
{\footnotesize\ttfamily \#define PETITMODBUS\+\_\+\+READ\+\_\+\+HOLDING\+\_\+\+REGISTERS~(3)}

\Hypertarget{_petit_modbus_8c_ad1fe26bcdebf35159d6b2ae06fbffdc3}\label{_petit_modbus_8c_ad1fe26bcdebf35159d6b2ae06fbffdc3} 
\index{PetitModbus.c@{PetitModbus.c}!PETITMODBUS\_READ\_INPUT\_REGISTERS@{PETITMODBUS\_READ\_INPUT\_REGISTERS}}
\index{PETITMODBUS\_READ\_INPUT\_REGISTERS@{PETITMODBUS\_READ\_INPUT\_REGISTERS}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETITMODBUS\_READ\_INPUT\_REGISTERS}{PETITMODBUS\_READ\_INPUT\_REGISTERS}}
{\footnotesize\ttfamily \#define PETITMODBUS\+\_\+\+READ\+\_\+\+INPUT\+\_\+\+REGISTERS~(4)}

\Hypertarget{_petit_modbus_8c_a7a64396c4b33039575774ddd05367f7a}\label{_petit_modbus_8c_a7a64396c4b33039575774ddd05367f7a} 
\index{PetitModbus.c@{PetitModbus.c}!PETITMODBUS\_WRITE\_MULTIPLE\_COILS@{PETITMODBUS\_WRITE\_MULTIPLE\_COILS}}
\index{PETITMODBUS\_WRITE\_MULTIPLE\_COILS@{PETITMODBUS\_WRITE\_MULTIPLE\_COILS}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETITMODBUS\_WRITE\_MULTIPLE\_COILS}{PETITMODBUS\_WRITE\_MULTIPLE\_COILS}}
{\footnotesize\ttfamily \#define PETITMODBUS\+\_\+\+WRITE\+\_\+\+MULTIPLE\+\_\+\+COILS~(15)}

\Hypertarget{_petit_modbus_8c_afce4136564ba140cc88a0a87c0dc6009}\label{_petit_modbus_8c_afce4136564ba140cc88a0a87c0dc6009} 
\index{PetitModbus.c@{PetitModbus.c}!PETITMODBUS\_WRITE\_MULTIPLE\_REGISTERS@{PETITMODBUS\_WRITE\_MULTIPLE\_REGISTERS}}
\index{PETITMODBUS\_WRITE\_MULTIPLE\_REGISTERS@{PETITMODBUS\_WRITE\_MULTIPLE\_REGISTERS}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETITMODBUS\_WRITE\_MULTIPLE\_REGISTERS}{PETITMODBUS\_WRITE\_MULTIPLE\_REGISTERS}}
{\footnotesize\ttfamily \#define PETITMODBUS\+\_\+\+WRITE\+\_\+\+MULTIPLE\+\_\+\+REGISTERS~(16)}

\Hypertarget{_petit_modbus_8c_a1bc9f7d10a98307ad386334196720cb6}\label{_petit_modbus_8c_a1bc9f7d10a98307ad386334196720cb6} 
\index{PetitModbus.c@{PetitModbus.c}!PETITMODBUS\_WRITE\_SINGLE\_COIL@{PETITMODBUS\_WRITE\_SINGLE\_COIL}}
\index{PETITMODBUS\_WRITE\_SINGLE\_COIL@{PETITMODBUS\_WRITE\_SINGLE\_COIL}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETITMODBUS\_WRITE\_SINGLE\_COIL}{PETITMODBUS\_WRITE\_SINGLE\_COIL}}
{\footnotesize\ttfamily \#define PETITMODBUS\+\_\+\+WRITE\+\_\+\+SINGLE\+\_\+\+COIL~(5)}

\Hypertarget{_petit_modbus_8c_a994e60dc98de7f41ac1bf7348c14de7f}\label{_petit_modbus_8c_a994e60dc98de7f41ac1bf7348c14de7f} 
\index{PetitModbus.c@{PetitModbus.c}!PETITMODBUS\_WRITE\_SINGLE\_REGISTER@{PETITMODBUS\_WRITE\_SINGLE\_REGISTER}}
\index{PETITMODBUS\_WRITE\_SINGLE\_REGISTER@{PETITMODBUS\_WRITE\_SINGLE\_REGISTER}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PETITMODBUS\_WRITE\_SINGLE\_REGISTER}{PETITMODBUS\_WRITE\_SINGLE\_REGISTER}}
{\footnotesize\ttfamily \#define PETITMODBUS\+\_\+\+WRITE\+\_\+\+SINGLE\+\_\+\+REGISTER~(6)}



\doxysubsection{Function Documentation}
\Hypertarget{_petit_modbus_8c_a9134df4abd7fbef7ff03d854974789aa}\label{_petit_modbus_8c_a9134df4abd7fbef7ff03d854974789aa} 
\index{PetitModbus.c@{PetitModbus.c}!CheckPetitModbusBufferComplete@{CheckPetitModbusBufferComplete}}
\index{CheckPetitModbusBufferComplete@{CheckPetitModbusBufferComplete}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{CheckPetitModbusBufferComplete()}{CheckPetitModbusBufferComplete()}}
{\footnotesize\ttfamily Check\+Petit\+Modbus\+Buffer\+Complete (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\begin{DoxyReturn}{Returns}
DATA\+\_\+\+READY If data is ready FALSE\+\_\+\+SLAVE\+\_\+\+ADDRESS If slave address is wrong DATA\+\_\+\+NOT\+\_\+\+READY If data is not ready FALSE\+\_\+\+FUNCTION If functions is wrong 
\end{DoxyReturn}
\Hypertarget{_petit_modbus_8c_a475ffd4c5a4708c18a014972ca2ab355}\label{_petit_modbus_8c_a475ffd4c5a4708c18a014972ca2ab355} 
\index{PetitModbus.c@{PetitModbus.c}!HandlePetitModbusError@{HandlePetitModbusError}}
\index{HandlePetitModbusError@{HandlePetitModbusError}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{HandlePetitModbusError()}{HandlePetitModbusError()}}
{\footnotesize\ttfamily void Handle\+Petit\+Modbus\+Error (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}}}]{Error\+Code }\end{DoxyParamCaption})}

\Hypertarget{_petit_modbus_8c_a501aad7f80dceedd8fc32df812d4b100}\label{_petit_modbus_8c_a501aad7f80dceedd8fc32df812d4b100} 
\index{PetitModbus.c@{PetitModbus.c}!Petit\_CRC16\_Calc@{Petit\_CRC16\_Calc}}
\index{Petit\_CRC16\_Calc@{Petit\_CRC16\_Calc}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{Petit\_CRC16\_Calc()}{Petit\_CRC16\_Calc()}}
{\footnotesize\ttfamily void Petit\+\_\+\+CRC16\+\_\+\+Calc (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\+\_\+t}}}]{Data }\end{DoxyParamCaption})}

\Hypertarget{_petit_modbus_8c_a5bf823c0c318b5754b2714fe029c606f}\label{_petit_modbus_8c_a5bf823c0c318b5754b2714fe029c606f} 
\index{PetitModbus.c@{PetitModbus.c}!Petit\_ResponseProcess@{Petit\_ResponseProcess}}
\index{Petit\_ResponseProcess@{Petit\_ResponseProcess}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{Petit\_ResponseProcess()}{Petit\_ResponseProcess()}}
{\footnotesize\ttfamily Petit\+\_\+\+Response\+Process (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

This function processes the modbus response once it has been determined that the message is for this node and the length is correct. \begin{DoxyNote}{Note}
Only use this function if rx is clear for processing 
\end{DoxyNote}
\Hypertarget{_petit_modbus_8c_a8fb90adb08b6d7f67264f53ac146c683}\label{_petit_modbus_8c_a8fb90adb08b6d7f67264f53ac146c683} 
\index{PetitModbus.c@{PetitModbus.c}!Petit\_RxRTU@{Petit\_RxRTU}}
\index{Petit\_RxRTU@{Petit\_RxRTU}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{Petit\_RxRTU()}{Petit\_RxRTU()}}
{\footnotesize\ttfamily Petit\+\_\+\+Rx\+RTU (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Check for data ready, if it is good return answer \Hypertarget{_petit_modbus_8c_ad8b5b915d3cc8fb5fe9178835e8a5226}\label{_petit_modbus_8c_ad8b5b915d3cc8fb5fe9178835e8a5226} 
\index{PetitModbus.c@{PetitModbus.c}!Petit\_TxRTU@{Petit\_TxRTU}}
\index{Petit\_TxRTU@{Petit\_TxRTU}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{Petit\_TxRTU()}{Petit\_TxRTU()}}
{\footnotesize\ttfamily Petit\+\_\+\+Tx\+RTU (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

If data is ready send answers! \Hypertarget{_petit_modbus_8c_ad88239bde4899b1be809af81b121c656}\label{_petit_modbus_8c_ad88239bde4899b1be809af81b121c656} 
\index{PetitModbus.c@{PetitModbus.c}!PetitRxBufferInsert@{PetitRxBufferInsert}}
\index{PetitRxBufferInsert@{PetitRxBufferInsert}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PetitRxBufferInsert()}{PetitRxBufferInsert()}}
{\footnotesize\ttfamily \mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}} Petit\+Rx\+Buffer\+Insert (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}}}]{rcvd }\end{DoxyParamCaption})}

Inserts bits into the buffer on device receive. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em rcvd} & the byte to insert into the buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bytes left to insert (0 if byte insertion failed) 
\end{DoxyReturn}
\Hypertarget{_petit_modbus_8c_aa32badb62b1d3074192136ccd5e60b01}\label{_petit_modbus_8c_aa32badb62b1d3074192136ccd5e60b01} 
\index{PetitModbus.c@{PetitModbus.c}!PetitRxBufferReset@{PetitRxBufferReset}}
\index{PetitRxBufferReset@{PetitRxBufferReset}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PetitRxBufferReset()}{PetitRxBufferReset()}}
{\footnotesize\ttfamily void Petit\+Rx\+Buffer\+Reset (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Reset the modbus buffer.

This function is called by the interrupt code that handles byte to byte time overrun. It is also called by the validation function to reject data that is not for this device before more system resources are taken. \Hypertarget{_petit_modbus_8c_a9db6d10a1987391aa6d781f8c4cff896}\label{_petit_modbus_8c_a9db6d10a1987391aa6d781f8c4cff896} 
\index{PetitModbus.c@{PetitModbus.c}!PetitSendMessage@{PetitSendMessage}}
\index{PetitSendMessage@{PetitSendMessage}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PetitSendMessage()}{PetitSendMessage()}}
{\footnotesize\ttfamily Petit\+Send\+Message (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

This function starts to send messages. \begin{DoxyReturn}{Returns}
always returns true 
\end{DoxyReturn}
\Hypertarget{_petit_modbus_8c_af6065cec82799ffca180fb2dc6688008}\label{_petit_modbus_8c_af6065cec82799ffca180fb2dc6688008} 
\index{PetitModbus.c@{PetitModbus.c}!PetitTxBufferPop@{PetitTxBufferPop}}
\index{PetitTxBufferPop@{PetitTxBufferPop}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PetitTxBufferPop()}{PetitTxBufferPop()}}
{\footnotesize\ttfamily \mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}} Petit\+Tx\+Buffer\+Pop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{tx }\end{DoxyParamCaption})}

This function removes a byte from the buffer and places it on "{}tx"{} to be sent over rs485. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em tx} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if there is a byte to be sent, 0 otherwise if the buffer is empty 
\end{DoxyReturn}
\Hypertarget{_petit_modbus_8c_a59d78cb738c2ae2a306805b9b324522b}\label{_petit_modbus_8c_a59d78cb738c2ae2a306805b9b324522b} 
\index{PetitModbus.c@{PetitModbus.c}!ProcessPetitModbus@{ProcessPetitModbus}}
\index{ProcessPetitModbus@{ProcessPetitModbus}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{ProcessPetitModbus()}{ProcessPetitModbus()}}
{\footnotesize\ttfamily void Process\+Petit\+Modbus (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Mod\+Bus main core! Call this function into main! 

\doxysubsection{Variable Documentation}
\Hypertarget{_petit_modbus_8c_a725e5c9754541775c19b13cd24587bd7}\label{_petit_modbus_8c_a725e5c9754541775c19b13cd24587bd7} 
\index{PetitModbus.c@{PetitModbus.c}!Petit\_CRC16@{Petit\_CRC16}}
\index{Petit\_CRC16@{Petit\_CRC16}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{Petit\_CRC16}{Petit\_CRC16}}
{\footnotesize\ttfamily \mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\+\_\+t}} Petit\+\_\+\+CRC16 = 0x\+FFFF}

\Hypertarget{_petit_modbus_8c_a763f2d8a515492ce91fa4d961bfd273d}\label{_petit_modbus_8c_a763f2d8a515492ce91fa4d961bfd273d} 
\index{PetitModbus.c@{PetitModbus.c}!Petit\_Ptr@{Petit\_Ptr}}
\index{Petit\_Ptr@{Petit\_Ptr}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{Petit\_Ptr}{Petit\_Ptr}}
{\footnotesize\ttfamily \mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}}\texorpdfstring{$\ast$}{*} Petit\+\_\+\+Ptr = \&\mbox{\hyperlink{_petit_modbus_8c_a35bf4945b3c380b11fd1ab2ac2bdf9a8}{Petit\+Buffer}}\mbox{[}0\mbox{]}}

\Hypertarget{_petit_modbus_8c_a5e9ea8b66a92b4c5bd6d48903ddad114}\label{_petit_modbus_8c_a5e9ea8b66a92b4c5bd6d48903ddad114} 
\index{PetitModbus.c@{PetitModbus.c}!Petit\_RxTx\_State@{Petit\_RxTx\_State}}
\index{Petit\_RxTx\_State@{Petit\_RxTx\_State}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{Petit\_RxTx\_State}{Petit\_RxTx\_State}}
{\footnotesize\ttfamily \mbox{\hyperlink{_petit_modbus_8h_a416ceb2c1c6976a28c49fe9fe817c719}{PETIT\+\_\+\+RXTX\+\_\+\+STATE}} Petit\+\_\+\+Rx\+Tx\+\_\+\+State = \mbox{\hyperlink{_petit_modbus_8h_a416ceb2c1c6976a28c49fe9fe817c719a0ed5e421bfe56a5dc3001ff0f7edb99e}{PETIT\+\_\+\+RXTX\+\_\+\+RX}}}

\Hypertarget{_petit_modbus_8c_aa32fe8e9b5875dbba9a8ab48d94c4e9e}\label{_petit_modbus_8c_aa32fe8e9b5875dbba9a8ab48d94c4e9e} 
\index{PetitModbus.c@{PetitModbus.c}!Petit\_Tx\_Delay@{Petit\_Tx\_Delay}}
\index{Petit\_Tx\_Delay@{Petit\_Tx\_Delay}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{Petit\_Tx\_Delay}{Petit\_Tx\_Delay}}
{\footnotesize\ttfamily \mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\+\_\+t}} Petit\+\_\+\+Tx\+\_\+\+Delay = 0}

\Hypertarget{_petit_modbus_8c_a35bf4945b3c380b11fd1ab2ac2bdf9a8}\label{_petit_modbus_8c_a35bf4945b3c380b11fd1ab2ac2bdf9a8} 
\index{PetitModbus.c@{PetitModbus.c}!PetitBuffer@{PetitBuffer}}
\index{PetitBuffer@{PetitBuffer}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PetitBuffer}{PetitBuffer}}
{\footnotesize\ttfamily \mbox{\hyperlink{_petit_modbus_user_port_8h_ad329e70ea3dcb34f673487fc00ac69d5}{pu8\+\_\+t}} Petit\+Buffer\mbox{[}\mbox{\hyperlink{_petit_modbus_8h_abac00eeae9e2d13662e5eed7760f10dd}{PETITMODBUS\+\_\+\+RXTX\+\_\+\+BUFFER\+\_\+\+SIZE}}\mbox{]}}

\Hypertarget{_petit_modbus_8c_ad0a0155875fb15928e4d5518f32ccfd8}\label{_petit_modbus_8c_ad0a0155875fb15928e4d5518f32ccfd8} 
\index{PetitModbus.c@{PetitModbus.c}!PetitBufI@{PetitBufI}}
\index{PetitBufI@{PetitBufI}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PetitBufI}{PetitBufI}}
{\footnotesize\ttfamily \mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\+\_\+t}} Petit\+BufI = 0}

\Hypertarget{_petit_modbus_8c_adb1927c07823d609e93fb09873af3e1c}\label{_petit_modbus_8c_adb1927c07823d609e93fb09873af3e1c} 
\index{PetitModbus.c@{PetitModbus.c}!PetitBufJ@{PetitBufJ}}
\index{PetitBufJ@{PetitBufJ}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PetitBufJ}{PetitBufJ}}
{\footnotesize\ttfamily \mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\+\_\+t}} Petit\+BufJ = 0}

\Hypertarget{_petit_modbus_8c_a3f49f58b5bd388ddd50a69867e5a0f93}\label{_petit_modbus_8c_a3f49f58b5bd388ddd50a69867e5a0f93} 
\index{PetitModbus.c@{PetitModbus.c}!PetitExpectedReceiveCount@{PetitExpectedReceiveCount}}
\index{PetitExpectedReceiveCount@{PetitExpectedReceiveCount}!PetitModbus.c@{PetitModbus.c}}
\doxysubsubsection{\texorpdfstring{PetitExpectedReceiveCount}{PetitExpectedReceiveCount}}
{\footnotesize\ttfamily \mbox{\hyperlink{_petit_modbus_user_port_8h_a01c483557b33c4176a1d15e40e35dc75}{pu16\+\_\+t}} Petit\+Expected\+Receive\+Count = 0}

