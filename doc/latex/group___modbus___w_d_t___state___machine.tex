\doxysubsection{Modbus WDT State Machine}
\hypertarget{group___modbus___w_d_t___state___machine}{}\label{group___modbus___w_d_t___state___machine}\index{Modbus WDT State Machine@{Modbus WDT State Machine}}
\doxysubsubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group___modbus___w_d_t___state___machine_gab4cd620a6ff382f2308515027d02e9b2}{C\+\_\+\+DEFAULT\+\_\+\+MB\+\_\+\+WD\+\_\+\+TIMEOUT}}~(15)
\item 
\#define \mbox{\hyperlink{group___modbus___w_d_t___state___machine_gaf61d1b5aac0ac33eefb325181a6e81e8}{C\+\_\+\+MB\+\_\+\+WD\+\_\+\+COUNT2\+MIN}}~(7500)
\end{DoxyCompactItemize}
\doxysubsubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group___modbus___w_d_t___state___machine_ga18a609d79f133d41b52d1cc90469be47}{mb\+WDTsm}} (void)
\end{DoxyCompactItemize}
\doxysubsubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \mbox{\hyperlink{group___modbus___w_d_t___state___machine_gab9eb643439bfb234f1a6da202f1cbf60}{MB\+\_\+\+WD\+\_\+\+TIMEOUT}} = \mbox{\hyperlink{group___modbus___w_d_t___state___machine_gab4cd620a6ff382f2308515027d02e9b2}{C\+\_\+\+DEFAULT\+\_\+\+MB\+\_\+\+WD\+\_\+\+TIMEOUT}}
\item 
bool \mbox{\hyperlink{group___modbus___w_d_t___state___machine_gabc0aa6fcb559a316edc1f101fea54a5e}{mb\+WDTen}} = false
\item 
bool \mbox{\hyperlink{group___modbus___w_d_t___state___machine_ga25dc89f8181779a398b5b593342f6783}{mb\+WDTpet}} = false
\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
The watchdog state machine is specifically implemented to "{}bite"{} after it has not received a watchdog "{}pet"{} for a certain number of minutes (configurable).

It starts as disabled and can be enabled through modbus. 

\doxysubsubsection{Macro Definition Documentation}
\Hypertarget{group___modbus___w_d_t___state___machine_gab4cd620a6ff382f2308515027d02e9b2}\label{group___modbus___w_d_t___state___machine_gab4cd620a6ff382f2308515027d02e9b2} 
\index{Modbus WDT State Machine@{Modbus WDT State Machine}!C\_DEFAULT\_MB\_WD\_TIMEOUT@{C\_DEFAULT\_MB\_WD\_TIMEOUT}}
\index{C\_DEFAULT\_MB\_WD\_TIMEOUT@{C\_DEFAULT\_MB\_WD\_TIMEOUT}!Modbus WDT State Machine@{Modbus WDT State Machine}}
\doxysubsubsubsection{\texorpdfstring{C\_DEFAULT\_MB\_WD\_TIMEOUT}{C\_DEFAULT\_MB\_WD\_TIMEOUT}}
{\footnotesize\ttfamily \#define C\+\_\+\+DEFAULT\+\_\+\+MB\+\_\+\+WD\+\_\+\+TIMEOUT~(15)}

Default number of minutes before modbus timeout. 

Definition at line \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source_l00190}{190}} of file \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source}{Io\+T Supervisor\+\_\+main.\+c}}.

\Hypertarget{group___modbus___w_d_t___state___machine_gaf61d1b5aac0ac33eefb325181a6e81e8}\label{group___modbus___w_d_t___state___machine_gaf61d1b5aac0ac33eefb325181a6e81e8} 
\index{Modbus WDT State Machine@{Modbus WDT State Machine}!C\_MB\_WD\_COUNT2MIN@{C\_MB\_WD\_COUNT2MIN}}
\index{C\_MB\_WD\_COUNT2MIN@{C\_MB\_WD\_COUNT2MIN}!Modbus WDT State Machine@{Modbus WDT State Machine}}
\doxysubsubsubsection{\texorpdfstring{C\_MB\_WD\_COUNT2MIN}{C\_MB\_WD\_COUNT2MIN}}
{\footnotesize\ttfamily \#define C\+\_\+\+MB\+\_\+\+WD\+\_\+\+COUNT2\+MIN~(7500)}

number of watchdog counts to minutes 

Definition at line \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source_l00192}{192}} of file \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source}{Io\+T Supervisor\+\_\+main.\+c}}.



\doxysubsubsection{Function Documentation}
\Hypertarget{group___modbus___w_d_t___state___machine_ga18a609d79f133d41b52d1cc90469be47}\label{group___modbus___w_d_t___state___machine_ga18a609d79f133d41b52d1cc90469be47} 
\index{Modbus WDT State Machine@{Modbus WDT State Machine}!mbWDTsm@{mbWDTsm}}
\index{mbWDTsm@{mbWDTsm}!Modbus WDT State Machine@{Modbus WDT State Machine}}
\doxysubsubsubsection{\texorpdfstring{mbWDTsm()}{mbWDTsm()}}
{\footnotesize\ttfamily void mb\+WDTsm (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

This is the implementation of the modbus watchdog state machine.

It follows the same structure as the rest of the state machines in this application where the transitions are first and the states follow. 

Definition at line \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source_l00204}{204}} of file \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source}{Io\+T Supervisor\+\_\+main.\+c}}.



\doxysubsubsection{Variable Documentation}
\Hypertarget{group___modbus___w_d_t___state___machine_gab9eb643439bfb234f1a6da202f1cbf60}\label{group___modbus___w_d_t___state___machine_gab9eb643439bfb234f1a6da202f1cbf60} 
\index{Modbus WDT State Machine@{Modbus WDT State Machine}!MB\_WD\_TIMEOUT@{MB\_WD\_TIMEOUT}}
\index{MB\_WD\_TIMEOUT@{MB\_WD\_TIMEOUT}!Modbus WDT State Machine@{Modbus WDT State Machine}}
\doxysubsubsubsection{\texorpdfstring{MB\_WD\_TIMEOUT}{MB\_WD\_TIMEOUT}}
{\footnotesize\ttfamily uint8\+\_\+t MB\+\_\+\+WD\+\_\+\+TIMEOUT = \mbox{\hyperlink{group___modbus___w_d_t___state___machine_gab4cd620a6ff382f2308515027d02e9b2}{C\+\_\+\+DEFAULT\+\_\+\+MB\+\_\+\+WD\+\_\+\+TIMEOUT}}}



Definition at line \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source_l00194}{194}} of file \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source}{Io\+T Supervisor\+\_\+main.\+c}}.

\Hypertarget{group___modbus___w_d_t___state___machine_gabc0aa6fcb559a316edc1f101fea54a5e}\label{group___modbus___w_d_t___state___machine_gabc0aa6fcb559a316edc1f101fea54a5e} 
\index{Modbus WDT State Machine@{Modbus WDT State Machine}!mbWDTen@{mbWDTen}}
\index{mbWDTen@{mbWDTen}!Modbus WDT State Machine@{Modbus WDT State Machine}}
\doxysubsubsubsection{\texorpdfstring{mbWDTen}{mbWDTen}}
{\footnotesize\ttfamily bool mb\+WDTen = false}



Definition at line \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source_l00195}{195}} of file \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source}{Io\+T Supervisor\+\_\+main.\+c}}.

\Hypertarget{group___modbus___w_d_t___state___machine_ga25dc89f8181779a398b5b593342f6783}\label{group___modbus___w_d_t___state___machine_ga25dc89f8181779a398b5b593342f6783} 
\index{Modbus WDT State Machine@{Modbus WDT State Machine}!mbWDTpet@{mbWDTpet}}
\index{mbWDTpet@{mbWDTpet}!Modbus WDT State Machine@{Modbus WDT State Machine}}
\doxysubsubsubsection{\texorpdfstring{mbWDTpet}{mbWDTpet}}
{\footnotesize\ttfamily bool mb\+WDTpet = false}



Definition at line \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source_l00196}{196}} of file \mbox{\hyperlink{_io_t_01_supervisor__main_8c_source}{Io\+T Supervisor\+\_\+main.\+c}}.

