<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IoT Supervisor: Configuration State Machine</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">IoT Supervisor<span id="projectnumber">&#160;0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___configuration___state___machine.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Configuration State Machine<div class="ingroups"><a class="el" href="group___main___application.html">Main Application</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>The configuration state machine starts and maintains the system configuration.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcfg__t.html">cfg_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct is a storage type for flash memory.  <a href="structcfg__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa240e519cb5b99446d79d4aad8420dd1" id="r_gaa240e519cb5b99446d79d4aad8420dd1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#gaa240e519cb5b99446d79d4aad8420dd1">C_FLASH_CONF</a>&#160;&#160;&#160;(0x1E00)</td></tr>
<tr class="separator:gaa240e519cb5b99446d79d4aad8420dd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1cca6a1cf1c6efba75c3ccab43e1518" id="r_gab1cca6a1cf1c6efba75c3ccab43e1518"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#gab1cca6a1cf1c6efba75c3ccab43e1518">pFLASH_CONF</a>&#160;&#160;&#160;((uint8_t code*)<a class="el" href="group___configuration___state___machine.html#gaa240e519cb5b99446d79d4aad8420dd1">C_FLASH_CONF</a>)</td></tr>
<tr class="separator:gab1cca6a1cf1c6efba75c3ccab43e1518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f6656888b6da3d751ce6bb0644d0dd9" id="r_ga0f6656888b6da3d751ce6bb0644d0dd9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga0f6656888b6da3d751ce6bb0644d0dd9">C_PW_DEFAULT</a>&#160;&#160;&#160;(0xDEFA)</td></tr>
<tr class="separator:ga0f6656888b6da3d751ce6bb0644d0dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b8473431a4fe63b20294043b9ae4773" id="r_ga2b8473431a4fe63b20294043b9ae4773"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga2b8473431a4fe63b20294043b9ae4773">C_FOUND_PROG_END</a>&#160;&#160;&#160;(0x0FE5)</td></tr>
<tr class="separator:ga2b8473431a4fe63b20294043b9ae4773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36de940e9065f10013db52ed98a34b1f" id="r_ga36de940e9065f10013db52ed98a34b1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga36de940e9065f10013db52ed98a34b1f">C_CFG_HEADER_LEN</a>&#160;&#160;&#160;(sizeof(<a class="el" href="group___configuration___state___machine.html#ga4786f95f528dfb7d6225d35b27072418">ex_cfg_header</a>))</td></tr>
<tr class="separator:ga36de940e9065f10013db52ed98a34b1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65c7887c0e26969205a3e5b038fe403a" id="r_ga65c7887c0e26969205a3e5b038fe403a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga65c7887c0e26969205a3e5b038fe403a">C_CFG_DATA_LEN</a>&#160;&#160;&#160;(sizeof(<a class="el" href="structcfg__t.html">cfg_t</a>))</td></tr>
<tr class="separator:ga65c7887c0e26969205a3e5b038fe403a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1cf8a7c45bd5eafaa45862c9f304da4c" id="r_ga1cf8a7c45bd5eafaa45862c9f304da4c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga1cf8a7c45bd5eafaa45862c9f304da4c">C_CFG_C_CRC_LEN</a>&#160;&#160;&#160;(2)</td></tr>
<tr class="separator:ga1cf8a7c45bd5eafaa45862c9f304da4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba2ebeddce6013b0ef742209113a58b7" id="r_gaba2ebeddce6013b0ef742209113a58b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#gaba2ebeddce6013b0ef742209113a58b7">C_CFG_P_CRC_LEN</a>&#160;&#160;&#160;(2)</td></tr>
<tr class="separator:gaba2ebeddce6013b0ef742209113a58b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad29b0843a725184d4dcde51268edc086" id="r_gad29b0843a725184d4dcde51268edc086"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#gad29b0843a725184d4dcde51268edc086">C_CFG_DATA_END</a>&#160;&#160;&#160;(<a class="el" href="group___configuration___state___machine.html#ga36de940e9065f10013db52ed98a34b1f">C_CFG_HEADER_LEN</a> + <a class="el" href="group___configuration___state___machine.html#ga65c7887c0e26969205a3e5b038fe403a">C_CFG_DATA_LEN</a>)</td></tr>
<tr class="separator:gad29b0843a725184d4dcde51268edc086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19952ec2f55ea62e4cdaf7637fb29e4e" id="r_ga19952ec2f55ea62e4cdaf7637fb29e4e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga19952ec2f55ea62e4cdaf7637fb29e4e">C_CFG_C_CRC_END</a>&#160;&#160;&#160;(<a class="el" href="group___configuration___state___machine.html#gad29b0843a725184d4dcde51268edc086">C_CFG_DATA_END</a> + <a class="el" href="group___configuration___state___machine.html#ga1cf8a7c45bd5eafaa45862c9f304da4c">C_CFG_C_CRC_LEN</a>)</td></tr>
<tr class="separator:ga19952ec2f55ea62e4cdaf7637fb29e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ae2d8806fe25d3e6b27511f76385ae6" id="r_ga0ae2d8806fe25d3e6b27511f76385ae6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga0ae2d8806fe25d3e6b27511f76385ae6">C_CFG_P_CRC_END</a>&#160;&#160;&#160;(<a class="el" href="group___configuration___state___machine.html#ga19952ec2f55ea62e4cdaf7637fb29e4e">C_CFG_C_CRC_END</a> + <a class="el" href="group___configuration___state___machine.html#gaba2ebeddce6013b0ef742209113a58b7">C_CFG_P_CRC_LEN</a>)</td></tr>
<tr class="separator:ga0ae2d8806fe25d3e6b27511f76385ae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35004385fd057486275757ee2d0dd1e9" id="r_ga35004385fd057486275757ee2d0dd1e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga35004385fd057486275757ee2d0dd1e9">C_CMD_COMMIT</a>&#160;&#160;&#160;0x5FAF</td></tr>
<tr class="separator:ga35004385fd057486275757ee2d0dd1e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3eeb3473a2e1cd78451afc01b331d89f" id="r_ga3eeb3473a2e1cd78451afc01b331d89f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga3eeb3473a2e1cd78451afc01b331d89f">C_CMD_CANCEL</a>&#160;&#160;&#160;0x0000</td></tr>
<tr class="separator:ga3eeb3473a2e1cd78451afc01b331d89f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36cea86425025f8b068256d0254b49c5" id="r_ga36cea86425025f8b068256d0254b49c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga36cea86425025f8b068256d0254b49c5">C_SID_MIN</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga36cea86425025f8b068256d0254b49c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00d0491c3afc5730a550797466e1e7ef" id="r_ga00d0491c3afc5730a550797466e1e7ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga00d0491c3afc5730a550797466e1e7ef">C_SID_MAX</a>&#160;&#160;&#160;247</td></tr>
<tr class="separator:ga00d0491c3afc5730a550797466e1e7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gae7452a3b4994fb1305b6184d19c8b4fe" id="r_gae7452a3b4994fb1305b6184d19c8b4fe"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#gae7452a3b4994fb1305b6184d19c8b4fe">VerifSt_t</a> { <a class="el" href="group___configuration___state___machine.html#ggae7452a3b4994fb1305b6184d19c8b4feab8982b56b1e62c7b6c506fb5567f7994">eVS_Norm</a> = 0
, <a class="el" href="group___configuration___state___machine.html#ggae7452a3b4994fb1305b6184d19c8b4fea35b6111fc077cb0a8b93cb3bf473d332">eVS_Cfg</a>
, <a class="el" href="group___configuration___state___machine.html#ggae7452a3b4994fb1305b6184d19c8b4fea8237171b70b05f5ca68993255e1b2d31">eVS_Prog</a>
, <a class="el" href="group___configuration___state___machine.html#ggae7452a3b4994fb1305b6184d19c8b4feae62b0e545b7fe9efa5ee339353f1ddc0">eVS_Setup</a>
 }</td></tr>
<tr class="separator:gae7452a3b4994fb1305b6184d19c8b4fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e2885d00577c7076677cc277ac4f238" id="r_ga2e2885d00577c7076677cc277ac4f238"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga2e2885d00577c7076677cc277ac4f238">CfgSM_t</a> { <br />
&#160;&#160;<a class="el" href="group___configuration___state___machine.html#gga2e2885d00577c7076677cc277ac4f238aaacc79559a18ebcf22cccb549ebacd78">eCFG_Idle</a> = 0
, <a class="el" href="group___configuration___state___machine.html#gga2e2885d00577c7076677cc277ac4f238a77c6aa8579abb456a1022f2c0749809b">eCFG_Load</a>
, <a class="el" href="group___configuration___state___machine.html#gga2e2885d00577c7076677cc277ac4f238a043ae948bd3634b5a2b9a9d2bfd3f69b">eCFG_Cache</a>
, <a class="el" href="group___configuration___state___machine.html#gga2e2885d00577c7076677cc277ac4f238a87a1adc98bfaf1f2d90f0f89416e0884">eCFG_Commit</a>
, <br />
&#160;&#160;<a class="el" href="group___configuration___state___machine.html#gga2e2885d00577c7076677cc277ac4f238ad78633de4b8404feb411293df89d59e9">eCFG_Erase</a>
, <a class="el" href="group___configuration___state___machine.html#gga2e2885d00577c7076677cc277ac4f238ac2a4696c092a4cf3c4bc13efa4f14aaf">eCFG_Write</a>
<br />
 }</td></tr>
<tr class="separator:ga2e2885d00577c7076677cc277ac4f238"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadb26e03a4457120c3b24c6316b9dcabe" id="r_gadb26e03a4457120c3b24c6316b9dcabe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#gadb26e03a4457120c3b24c6316b9dcabe">ccfg_check</a> (void)</td></tr>
<tr class="separator:gadb26e03a4457120c3b24c6316b9dcabe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga788ff1c4a563985fc673182073aed78c" id="r_ga788ff1c4a563985fc673182073aed78c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga788ff1c4a563985fc673182073aed78c">dcfg_check</a> ()</td></tr>
<tr class="separator:ga788ff1c4a563985fc673182073aed78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa517964897d449243fda50976465744a" id="r_gaa517964897d449243fda50976465744a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#gaa517964897d449243fda50976465744a">cfg_load</a> ()</td></tr>
<tr class="separator:gaa517964897d449243fda50976465744a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaebd0a8f26aa5dfb3610e419c7c5070b7" id="r_gaebd0a8f26aa5dfb3610e419c7c5070b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#gaebd0a8f26aa5dfb3610e419c7c5070b7">cfg_write</a> (void)</td></tr>
<tr class="separator:gaebd0a8f26aa5dfb3610e419c7c5070b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa703efb79709d2f2e12561f47f253b7" id="r_gaaa703efb79709d2f2e12561f47f253b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#gaaa703efb79709d2f2e12561f47f253b7">CFGsm</a> ()</td></tr>
<tr class="separator:gaaa703efb79709d2f2e12561f47f253b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga4786f95f528dfb7d6225d35b27072418" id="r_ga4786f95f528dfb7d6225d35b27072418"><td class="memItemLeft" align="right" valign="top">code const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga4786f95f528dfb7d6225d35b27072418">ex_cfg_header</a> []</td></tr>
<tr class="separator:ga4786f95f528dfb7d6225d35b27072418"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35236392c891bc6d5ccee8f619d2f92a" id="r_ga35236392c891bc6d5ccee8f619d2f92a"><td class="memItemLeft" align="right" valign="top">code const <a class="el" href="structcfg__t.html">cfg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga35236392c891bc6d5ccee8f619d2f92a">default_cfg</a></td></tr>
<tr class="separator:ga35236392c891bc6d5ccee8f619d2f92a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c9c723896f1d714b5d1caeb1afceda6" id="r_ga6c9c723896f1d714b5d1caeb1afceda6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___configuration___state___machine.html#ga2e2885d00577c7076677cc277ac4f238">CfgSM_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga6c9c723896f1d714b5d1caeb1afceda6">cfgSmS</a> = <a class="el" href="group___configuration___state___machine.html#gga2e2885d00577c7076677cc277ac4f238a77c6aa8579abb456a1022f2c0749809b">eCFG_Load</a></td></tr>
<tr class="separator:ga6c9c723896f1d714b5d1caeb1afceda6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0959e8576e2d8601bc958bbf7680f0d4" id="r_ga0959e8576e2d8601bc958bbf7680f0d4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga0959e8576e2d8601bc958bbf7680f0d4">pw_flag</a> = false</td></tr>
<tr class="separator:ga0959e8576e2d8601bc958bbf7680f0d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4310b6cbe0d1f02c0d8bacadf8fa09a2" id="r_ga4310b6cbe0d1f02c0d8bacadf8fa09a2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga4310b6cbe0d1f02c0d8bacadf8fa09a2">dir_tx</a> = false</td></tr>
<tr class="separator:ga4310b6cbe0d1f02c0d8bacadf8fa09a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7624452708e1f4a54f678332e81c4867" id="r_ga7624452708e1f4a54f678332e81c4867"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga7624452708e1f4a54f678332e81c4867">run_petitmodbus</a> = false</td></tr>
<tr class="separator:ga7624452708e1f4a54f678332e81c4867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1edfc8756590da90a14f41af9bd71dc4" id="r_ga1edfc8756590da90a14f41af9bd71dc4"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga1edfc8756590da90a14f41af9bd71dc4">pw</a></td></tr>
<tr class="separator:ga1edfc8756590da90a14f41af9bd71dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14ee0f41b2e64cad6f4c28cbb3fcb39b" id="r_ga14ee0f41b2e64cad6f4c28cbb3fcb39b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcfg__t.html">cfg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga14ee0f41b2e64cad6f4c28cbb3fcb39b">cfg</a></td></tr>
<tr class="separator:ga14ee0f41b2e64cad6f4c28cbb3fcb39b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8b9a108114d596023dc16a2f4629665" id="r_gaa8b9a108114d596023dc16a2f4629665"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#gaa8b9a108114d596023dc16a2f4629665">cfg_write_idx</a> = 0</td></tr>
<tr class="separator:gaa8b9a108114d596023dc16a2f4629665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e76b6ae721cc46405d326ebb01396ee" id="r_ga2e76b6ae721cc46405d326ebb01396ee"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga2e76b6ae721cc46405d326ebb01396ee">calc_cfg_crc</a> = 0xFFFF</td></tr>
<tr class="separator:ga2e76b6ae721cc46405d326ebb01396ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2af04e4d032e98d5461d108969d9c8bd" id="r_ga2af04e4d032e98d5461d108969d9c8bd"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___configuration___state___machine.html#ga2af04e4d032e98d5461d108969d9c8bd">calc_prog_crc</a> = 0xFFFF</td></tr>
<tr class="separator:ga2af04e4d032e98d5461d108969d9c8bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The configuration state machine starts and maintains the system configuration. </p>
<p> <div class="mermaid"> 
   stateDiagram-v2
 direction LR
 [*] --> Load
 Load --> Idle
 Idle --> Cache: Correct Password
 Cache --> Commit: Commit CMD
 Cache --> Idle: Cancel CMD
 Commit --> Erase: Correct Password
 Commit --> Idle: Cancel CMD
 Erase --> Write
 Write --> [*]
  
  </div>  The configuration state machine implements the startup and configuration tasks of this application. On startup, the configuration is read from memory and the program memory is checked against a stored CRC. On configuration commit, a cached configuration from modbus is applied to the application. On configuration write, the committed configuration is written into flash along with the newly calculated CRC. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga19952ec2f55ea62e4cdaf7637fb29e4e" name="ga19952ec2f55ea62e4cdaf7637fb29e4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19952ec2f55ea62e4cdaf7637fb29e4e">&#9670;&#160;</a></span>C_CFG_C_CRC_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_CFG_C_CRC_END&#160;&#160;&#160;(<a class="el" href="group___configuration___state___machine.html#gad29b0843a725184d4dcde51268edc086">C_CFG_DATA_END</a> + <a class="el" href="group___configuration___state___machine.html#ga1cf8a7c45bd5eafaa45862c9f304da4c">C_CFG_C_CRC_LEN</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>End of configuration CRC offset in configuration page. </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00336">336</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga1cf8a7c45bd5eafaa45862c9f304da4c" name="ga1cf8a7c45bd5eafaa45862c9f304da4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1cf8a7c45bd5eafaa45862c9f304da4c">&#9670;&#160;</a></span>C_CFG_C_CRC_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_CFG_C_CRC_LEN&#160;&#160;&#160;(2)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>configuration CRC length (16 bits) </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00326">326</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="gad29b0843a725184d4dcde51268edc086" name="gad29b0843a725184d4dcde51268edc086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad29b0843a725184d4dcde51268edc086">&#9670;&#160;</a></span>C_CFG_DATA_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_CFG_DATA_END&#160;&#160;&#160;(<a class="el" href="group___configuration___state___machine.html#ga36de940e9065f10013db52ed98a34b1f">C_CFG_HEADER_LEN</a> + <a class="el" href="group___configuration___state___machine.html#ga65c7887c0e26969205a3e5b038fe403a">C_CFG_DATA_LEN</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>End of configuration data offset in configuration page. </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00332">332</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga65c7887c0e26969205a3e5b038fe403a" name="ga65c7887c0e26969205a3e5b038fe403a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65c7887c0e26969205a3e5b038fe403a">&#9670;&#160;</a></span>C_CFG_DATA_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_CFG_DATA_LEN&#160;&#160;&#160;(sizeof(<a class="el" href="structcfg__t.html">cfg_t</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration data length</p>
<p>The password is stored in two bytes. </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00324">324</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga36de940e9065f10013db52ed98a34b1f" name="ga36de940e9065f10013db52ed98a34b1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36de940e9065f10013db52ed98a34b1f">&#9670;&#160;</a></span>C_CFG_HEADER_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_CFG_HEADER_LEN&#160;&#160;&#160;(sizeof(<a class="el" href="group___configuration___state___machine.html#ga4786f95f528dfb7d6225d35b27072418">ex_cfg_header</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration header length </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00305">305</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga0ae2d8806fe25d3e6b27511f76385ae6" name="ga0ae2d8806fe25d3e6b27511f76385ae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ae2d8806fe25d3e6b27511f76385ae6">&#9670;&#160;</a></span>C_CFG_P_CRC_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_CFG_P_CRC_END&#160;&#160;&#160;(<a class="el" href="group___configuration___state___machine.html#ga19952ec2f55ea62e4cdaf7637fb29e4e">C_CFG_C_CRC_END</a> + <a class="el" href="group___configuration___state___machine.html#gaba2ebeddce6013b0ef742209113a58b7">C_CFG_P_CRC_LEN</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>End of program CRC offset in configuration page. Total configuration length. </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00341">341</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="gaba2ebeddce6013b0ef742209113a58b7" name="gaba2ebeddce6013b0ef742209113a58b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba2ebeddce6013b0ef742209113a58b7">&#9670;&#160;</a></span>C_CFG_P_CRC_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_CFG_P_CRC_LEN&#160;&#160;&#160;(2)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>program CRC length (16 bits) </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00328">328</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga3eeb3473a2e1cd78451afc01b331d89f" name="ga3eeb3473a2e1cd78451afc01b331d89f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3eeb3473a2e1cd78451afc01b331d89f">&#9670;&#160;</a></span>C_CMD_CANCEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_CMD_CANCEL&#160;&#160;&#160;0x0000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_io_t___supervisor_8h_source.html#l00034">34</a> of file <a class="el" href="_io_t___supervisor_8h_source.html">IoT_Supervisor.h</a>.</p>

</div>
</div>
<a id="ga35004385fd057486275757ee2d0dd1e9" name="ga35004385fd057486275757ee2d0dd1e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35004385fd057486275757ee2d0dd1e9">&#9670;&#160;</a></span>C_CMD_COMMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_CMD_COMMIT&#160;&#160;&#160;0x5FAF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_io_t___supervisor_8h_source.html#l00033">33</a> of file <a class="el" href="_io_t___supervisor_8h_source.html">IoT_Supervisor.h</a>.</p>

</div>
</div>
<a id="gaa240e519cb5b99446d79d4aad8420dd1" name="gaa240e519cb5b99446d79d4aad8420dd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa240e519cb5b99446d79d4aad8420dd1">&#9670;&#160;</a></span>C_FLASH_CONF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_FLASH_CONF&#160;&#160;&#160;(0x1E00)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration page start address in program memory (code memory). </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00270">270</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga2b8473431a4fe63b20294043b9ae4773" name="ga2b8473431a4fe63b20294043b9ae4773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b8473431a4fe63b20294043b9ae4773">&#9670;&#160;</a></span>C_FOUND_PROG_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_FOUND_PROG_END&#160;&#160;&#160;(0x0FE5)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00286">286</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga0f6656888b6da3d751ce6bb0644d0dd9" name="ga0f6656888b6da3d751ce6bb0644d0dd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0f6656888b6da3d751ce6bb0644d0dd9">&#9670;&#160;</a></span>C_PW_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_PW_DEFAULT&#160;&#160;&#160;(0xDEFA)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The default password used to enter configuration cache or configuration page erase and write. </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00277">277</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga00d0491c3afc5730a550797466e1e7ef" name="ga00d0491c3afc5730a550797466e1e7ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00d0491c3afc5730a550797466e1e7ef">&#9670;&#160;</a></span>C_SID_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_SID_MAX&#160;&#160;&#160;247</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_io_t___supervisor_8h_source.html#l00036">36</a> of file <a class="el" href="_io_t___supervisor_8h_source.html">IoT_Supervisor.h</a>.</p>

</div>
</div>
<a id="ga36cea86425025f8b068256d0254b49c5" name="ga36cea86425025f8b068256d0254b49c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36cea86425025f8b068256d0254b49c5">&#9670;&#160;</a></span>C_SID_MIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C_SID_MIN&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_io_t___supervisor_8h_source.html#l00035">35</a> of file <a class="el" href="_io_t___supervisor_8h_source.html">IoT_Supervisor.h</a>.</p>

</div>
</div>
<a id="gab1cca6a1cf1c6efba75c3ccab43e1518" name="gab1cca6a1cf1c6efba75c3ccab43e1518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab1cca6a1cf1c6efba75c3ccab43e1518">&#9670;&#160;</a></span>pFLASH_CONF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pFLASH_CONF&#160;&#160;&#160;((uint8_t code*)<a class="el" href="group___configuration___state___machine.html#gaa240e519cb5b99446d79d4aad8420dd1">C_FLASH_CONF</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pointer to the flash config </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00272">272</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga2e2885d00577c7076677cc277ac4f238" name="ga2e2885d00577c7076677cc277ac4f238"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2e2885d00577c7076677cc277ac4f238">&#9670;&#160;</a></span>CfgSM_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___configuration___state___machine.html#ga2e2885d00577c7076677cc277ac4f238">CfgSM_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration Memory State Machine _ Type</p>
<p><b>C</b>on<b>f</b>i<b>g</b>uration Memory <b>S</b>tate <b>M</b>achine <b>_ T</b>ype </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga2e2885d00577c7076677cc277ac4f238aaacc79559a18ebcf22cccb549ebacd78" name="gga2e2885d00577c7076677cc277ac4f238aaacc79559a18ebcf22cccb549ebacd78"></a>eCFG_Idle&#160;</td><td class="fielddoc"><p>Idle State. No configuration state machine activity. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2e2885d00577c7076677cc277ac4f238a77c6aa8579abb456a1022f2c0749809b" name="gga2e2885d00577c7076677cc277ac4f238a77c6aa8579abb456a1022f2c0749809b"></a>eCFG_Load&#160;</td><td class="fielddoc"><p>Configuration Loading from memory. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2e2885d00577c7076677cc277ac4f238a043ae948bd3634b5a2b9a9d2bfd3f69b" name="gga2e2885d00577c7076677cc277ac4f238a043ae948bd3634b5a2b9a9d2bfd3f69b"></a>eCFG_Cache&#160;</td><td class="fielddoc"><p>New Configuration is Caching from Modbus. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2e2885d00577c7076677cc277ac4f238a87a1adc98bfaf1f2d90f0f89416e0884" name="gga2e2885d00577c7076677cc277ac4f238a87a1adc98bfaf1f2d90f0f89416e0884"></a>eCFG_Commit&#160;</td><td class="fielddoc"><p>New Configuration is Committed (Active) </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2e2885d00577c7076677cc277ac4f238ad78633de4b8404feb411293df89d59e9" name="gga2e2885d00577c7076677cc277ac4f238ad78633de4b8404feb411293df89d59e9"></a>eCFG_Erase&#160;</td><td class="fielddoc"><p>Erase the old Configuration (from Flash) </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2e2885d00577c7076677cc277ac4f238ac2a4696c092a4cf3c4bc13efa4f14aaf" name="gga2e2885d00577c7076677cc277ac4f238ac2a4696c092a4cf3c4bc13efa4f14aaf"></a>eCFG_Write&#160;</td><td class="fielddoc"><p>Write the new Configuration (into Flash) </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="_io_t___supervisor_8h_source.html#l00125">125</a> of file <a class="el" href="_io_t___supervisor_8h_source.html">IoT_Supervisor.h</a>.</p>

</div>
</div>
<a id="gae7452a3b4994fb1305b6184d19c8b4fe" name="gae7452a3b4994fb1305b6184d19c8b4fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7452a3b4994fb1305b6184d19c8b4fe">&#9670;&#160;</a></span>VerifSt_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___configuration___state___machine.html#gae7452a3b4994fb1305b6184d19c8b4fe">VerifSt_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Verification Status _ Type</p>
<p><b>Verif</b>ication <b>St</b>atus <b>_ T</b>ype </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggae7452a3b4994fb1305b6184d19c8b4feab8982b56b1e62c7b6c506fb5567f7994" name="ggae7452a3b4994fb1305b6184d19c8b4feab8982b56b1e62c7b6c506fb5567f7994"></a>eVS_Norm&#160;</td><td class="fielddoc"><p>Normal Verification Status</p>
<p>No configuration errors or program memory CRC mismatch detected. eVS_Norm </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae7452a3b4994fb1305b6184d19c8b4fea35b6111fc077cb0a8b93cb3bf473d332" name="ggae7452a3b4994fb1305b6184d19c8b4fea35b6111fc077cb0a8b93cb3bf473d332"></a>eVS_Cfg&#160;</td><td class="fielddoc"><p>Configuration Error or CRC Mismatch Detected. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae7452a3b4994fb1305b6184d19c8b4fea8237171b70b05f5ca68993255e1b2d31" name="ggae7452a3b4994fb1305b6184d19c8b4fea8237171b70b05f5ca68993255e1b2d31"></a>eVS_Prog&#160;</td><td class="fielddoc"><p>Program Memory Mismatch Detected. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae7452a3b4994fb1305b6184d19c8b4feae62b0e545b7fe9efa5ee339353f1ddc0" name="ggae7452a3b4994fb1305b6184d19c8b4feae62b0e545b7fe9efa5ee339353f1ddc0"></a>eVS_Setup&#160;</td><td class="fielddoc"><p>Initial Setup. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="_io_t___supervisor_8h_source.html#l00106">106</a> of file <a class="el" href="_io_t___supervisor_8h_source.html">IoT_Supervisor.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gadb26e03a4457120c3b24c6316b9dcabe" name="gadb26e03a4457120c3b24c6316b9dcabe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadb26e03a4457120c3b24c6316b9dcabe">&#9670;&#160;</a></span>ccfg_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ccfg_check </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function performs the code memory configuration checks. It first checks if the values from memory are in-range and then checks if the CRC against the value stored in code memory.</p>
<dl class="section return"><dt>Returns</dt><dd>the validity of the code memory configuration. true if okay. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00360">360</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="gaa517964897d449243fda50976465744a" name="gaa517964897d449243fda50976465744a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa517964897d449243fda50976465744a">&#9670;&#160;</a></span>cfg_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfg_load </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function performs the tasks in the configuration load state in the configuration state machine. This includes loading the configuration from code memory and checking the CRC of program memory.</p>
<p> <div class="mermaid"> 
   flowchart LR
 subgraph Configuration Flash Section
 ex_cfg_header
 subgraph cfg_t
 sid
 baud
 wdto
 password
 end
 c_crc("Configuration CRC")
 p_crc("Program CRC")
 end
  
  </div> </p>
<p>The verification status is set based on greater than logic. If code memory lacks the correct configuration header, the verification status is "Setup." If the program memory CRC does not match what is stored in the configuration, the verification status is "Program [invalid]." If code memory is invalid or deemed corrupted by an incorrect CRC, the verification status is "Configuration [invalid]." </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00490">490</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="gaebd0a8f26aa5dfb3610e419c7c5070b7" name="gaebd0a8f26aa5dfb3610e419c7c5070b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaebd0a8f26aa5dfb3610e419c7c5070b7">&#9670;&#160;</a></span>cfg_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfg_write </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function writes the data memory configuration into code memory. It also calculates the CRC so that later reads can determine the integrity of the configuration data. </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00548">548</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="gaaa703efb79709d2f2e12561f47f253b7" name="gaaa703efb79709d2f2e12561f47f253b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa703efb79709d2f2e12561f47f253b7">&#9670;&#160;</a></span>CFGsm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CFGsm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function implements the configuration state machine which controls various parts of the supervisor's behavior. It controls the modbus sid, modbus baud rate, watchdog timer, and configuration memory password.</p>
<p>The configuration state machine locks the modbus master out of reading or writing the configuration memory if the state machine is not put into either cache or commit state.</p>
<p>Caches or commits can be escaped from if the modbus user does not want to write data to code memory. </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00596">596</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga788ff1c4a563985fc673182073aed78c" name="ga788ff1c4a563985fc673182073aed78c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga788ff1c4a563985fc673182073aed78c">&#9670;&#160;</a></span>dcfg_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dcfg_check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function checks the configuration stored in data memory. It does not perform a CRC.</p>
<dl class="section return"><dt>Returns</dt><dd>the validity of the configuration. true if okay. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00449">449</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga2e76b6ae721cc46405d326ebb01396ee" name="ga2e76b6ae721cc46405d326ebb01396ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2e76b6ae721cc46405d326ebb01396ee">&#9670;&#160;</a></span>calc_cfg_crc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t calc_cfg_crc = 0xFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00350">350</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga2af04e4d032e98d5461d108969d9c8bd" name="ga2af04e4d032e98d5461d108969d9c8bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2af04e4d032e98d5461d108969d9c8bd">&#9670;&#160;</a></span>calc_prog_crc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t calc_prog_crc = 0xFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00351">351</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga14ee0f41b2e64cad6f4c28cbb3fcb39b" name="ga14ee0f41b2e64cad6f4c28cbb3fcb39b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga14ee0f41b2e64cad6f4c28cbb3fcb39b">&#9670;&#160;</a></span>cfg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcfg__t.html">cfg_t</a> cfg</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>entered password, not necessarily the correct password </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00348">348</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="gaa8b9a108114d596023dc16a2f4629665" name="gaa8b9a108114d596023dc16a2f4629665"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa8b9a108114d596023dc16a2f4629665">&#9670;&#160;</a></span>cfg_write_idx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t cfg_write_idx = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00349">349</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga6c9c723896f1d714b5d1caeb1afceda6" name="ga6c9c723896f1d714b5d1caeb1afceda6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c9c723896f1d714b5d1caeb1afceda6">&#9670;&#160;</a></span>cfgSmS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___configuration___state___machine.html#ga2e2885d00577c7076677cc277ac4f238">CfgSM_t</a> cfgSmS = <a class="el" href="group___configuration___state___machine.html#gga2e2885d00577c7076677cc277ac4f238a77c6aa8579abb456a1022f2c0749809b">eCFG_Load</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00343">343</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga35236392c891bc6d5ccee8f619d2f92a" name="ga35236392c891bc6d5ccee8f619d2f92a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35236392c891bc6d5ccee8f619d2f92a">&#9670;&#160;</a></span>default_cfg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">code const <a class="el" href="structcfg__t.html">cfg_t</a> default_cfg</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    255, </div>
<div class="line">    <a class="code hl_enumvalue" href="group___modbus___middle_ware.html#ggac4b55353c236e4425b062d426cb99eaca3935af3a6cf121e677eef008dcd07ead">eMMW_B_38400</a>, </div>
<div class="line">    <a class="code hl_define" href="group___modbus___w_d_t___state___machine.html#gab4cd620a6ff382f2308515027d02e9b2">C_DEFAULT_MB_WD_TIMEOUT</a>, </div>
<div class="line">    <a class="code hl_define" href="group___configuration___state___machine.html#ga0f6656888b6da3d751ce6bb0644d0dd9">C_PW_DEFAULT</a></div>
<div class="line">}</div>
<div class="ttc" id="agroup___configuration___state___machine_html_ga0f6656888b6da3d751ce6bb0644d0dd9"><div class="ttname"><a href="group___configuration___state___machine.html#ga0f6656888b6da3d751ce6bb0644d0dd9">C_PW_DEFAULT</a></div><div class="ttdeci">#define C_PW_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="_io_t_01_supervisor__main_8c_source.html#l00277">IoT Supervisor_main.c:277</a></div></div>
<div class="ttc" id="agroup___modbus___middle_ware_html_ggac4b55353c236e4425b062d426cb99eaca3935af3a6cf121e677eef008dcd07ead"><div class="ttname"><a href="group___modbus___middle_ware.html#ggac4b55353c236e4425b062d426cb99eaca3935af3a6cf121e677eef008dcd07ead">eMMW_B_38400</a></div><div class="ttdeci">@ eMMW_B_38400</div><div class="ttdef"><b>Definition</b> <a href="_modbus_middle_ware_8h_source.html#l00031">ModbusMiddleWare.h:31</a></div></div>
<div class="ttc" id="agroup___modbus___w_d_t___state___machine_html_gab4cd620a6ff382f2308515027d02e9b2"><div class="ttname"><a href="group___modbus___w_d_t___state___machine.html#gab4cd620a6ff382f2308515027d02e9b2">C_DEFAULT_MB_WD_TIMEOUT</a></div><div class="ttdeci">#define C_DEFAULT_MB_WD_TIMEOUT</div><div class="ttdef"><b>Definition</b> <a href="_io_t_01_supervisor__main_8c_source.html#l00182">IoT Supervisor_main.c:182</a></div></div>
</div><!-- fragment --><p>Stores the default configuration data.</p>
<dl class="section note"><dt>Note</dt><dd>The default modbus sid is 255 because this sid is specifically reserved for devices that have not been configured yet. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00312">312</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga4310b6cbe0d1f02c0d8bacadf8fa09a2" name="ga4310b6cbe0d1f02c0d8bacadf8fa09a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4310b6cbe0d1f02c0d8bacadf8fa09a2">&#9670;&#160;</a></span>dir_tx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dir_tx = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00345">345</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga4786f95f528dfb7d6225d35b27072418" name="ga4786f95f528dfb7d6225d35b27072418"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4786f95f528dfb7d6225d35b27072418">&#9670;&#160;</a></span>ex_cfg_header</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">code const uint8_t ex_cfg_header[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    <span class="charliteral">&#39;M&#39;</span>,<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;G&#39;</span>,    </div>
<div class="line">    <span class="charliteral">&#39;S&#39;</span>,<span class="charliteral">&#39;V&#39;</span>,        </div>
<div class="line">    <span class="charliteral">&#39;0&#39;</span>,            </div>
<div class="line">    <span class="charliteral">&#39;0&#39;</span>,            </div>
<div class="line">    <span class="charliteral">&#39;0&#39;</span>             </div>
<div class="line">}</div>
</div><!-- fragment --><p>Stores the header of the configuration page in FLASH</p>
<p>This is the <b>ex</b>pected <b>c</b>on<b>f</b>i<b>g</b>uration <b>header</b>. </p>

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00296">296</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga1edfc8756590da90a14f41af9bd71dc4" name="ga1edfc8756590da90a14f41af9bd71dc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1edfc8756590da90a14f41af9bd71dc4">&#9670;&#160;</a></span>pw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t pw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00347">347</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga0959e8576e2d8601bc958bbf7680f0d4" name="ga0959e8576e2d8601bc958bbf7680f0d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0959e8576e2d8601bc958bbf7680f0d4">&#9670;&#160;</a></span>pw_flag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pw_flag = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00344">344</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
<a id="ga7624452708e1f4a54f678332e81c4867" name="ga7624452708e1f4a54f678332e81c4867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7624452708e1f4a54f678332e81c4867">&#9670;&#160;</a></span>run_petitmodbus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool run_petitmodbus = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_io_t_01_supervisor__main_8c_source.html#l00346">346</a> of file <a class="el" href="_io_t_01_supervisor__main_8c_source.html">IoT Supervisor_main.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
<script>
  const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
  mermaid.initialize({
    startOnLoad: true,
    theme: isDarkMode ? 'dark' : 'default', 
  });
</script>
</body>
</html>
